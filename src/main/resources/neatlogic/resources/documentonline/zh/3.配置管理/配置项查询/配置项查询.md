# 配置项查询

## 名称解释
* 配置项：CI（Configuration Item），一个配置项代表一个资源或一个物件。例如：一个应用、一个集群、一个中间件实例、一个主机。一个配置项具有配置模型定义的属性和关系。
* 事务：CI Transaction（Configuration Item Transaction），配置项增删改操作都可以产生操作事务，其目的是保证配置项的数据有效、准确性。例如：变更中存在变更成功和变更失败，变更成功提交事务，显示变更以后的结构，当变更失败以变更之前的数据展示，从而保证数据的有效性。

## 管理页
配置项管理页支持按条件搜索目标模型，还可切换到拓扑图查看模型关系。页面入口如图所示。
![](images/配置项查询_入口.gif)
在管理页，查询目标模型，点击模型卡片，页面跳转到配置项列表页面；
![](images/配置项查询_配置项列表.gif)

## 权限说明
配置项查询相关的权限要从两个维度来说明，分别是页面入口和数据权限。

### 页面入口的权限
在 [权限管理](../../100.系统配置/1.用户和权限/用户和权限.md)-配置管理 中，有三个关联的权限，分别是配置管理基础权限、配置模型管理权限、配置项管理权限，拥有任意一个权限都显示配置项查询的菜单。

### 配置项数据权限
配置项模型的数据展示涉及三个维度的权限，最终是取这三个权限的并集。
1. 第一层是系统管理里的授权。如果用户有模型管理和配置项管理这两个权限，用户就能管理所有模型的配置项数据，包括查看、搜索、添加、编辑和删除等操作。
   ![](images/配置项查询_权限说明_1.png)
2. 第二层是模型的权限配置，如果用户有模型层的任意权限，就能查看模型所有的配置项数据，操作方面的权限就和权限类型有关。例如用户有“IP软硬件”模型的管理权限，用户能查看并管理该模型的配置项数据，更多详情参考[模型管理](../模型管理/模型管理.md)-授权。
   ![](images/配置项查询_权限说明_2.png)
3. 第三层是团体，团体的数据权限颗粒度到配置项层面，团体管理中可以将满足一定过滤条件的配置项授权给指定的对象，详情参考[团体管理](../系统管理/团体管理.md)。

   注意：用户要在没有1和2中的权限的情况下，团体中对配置项数据过滤的效果才能生效。
   ![](images/配置项查询_权限说明_3.png)

## 配置项列表
配置项列表的功能主要包括配置项和事务的新增、删除、编辑和查询，只有普通模型可进行配置项增删改的操作（模型名称下方未标记抽象模型或者虚拟模型的模型就是普通模型）。
![](images/配置项查询_普通模型.png)
以新增配置项为例，添加配置项，保存并提交事务，才完成新增配置项操作，编辑和删除配置项同理。
![](images/配置项查询_配置项列表_添加配置项.gif)
可在未提交事务中完成事务的提交和删除。
![](images/配置项查询_配置项列表_未提交事务.gif)
在删除记录中支持还原已删除配置项的数据
![](images/配置项查询_配置项列表_删除记录.gif)

## 配置项详情
点击配置项上的详情按钮，跳转到配置项详情页面。
![](images/配置项查询_配置项详情.gif)
* 查看配置项属性数据
* 查看配置项关联关系数据
* 查看配置项变更记录及变更详情
* 切换到拓扑图模式，查看配置项的上下游关联关系
![](images/配置项查询_配置项详情_拓扑图.png)
* 按属性分组查看配置属性数据
  ![](images/配置项查询_配置项详情_属性分组.png)s